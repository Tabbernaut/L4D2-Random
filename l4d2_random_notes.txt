
L4D2_Random
===========


    to-do:
    ------  
            - wait:     test and include stabby's random map stuff so people can launch random campaigns after loading random
            - gamedata: bwdefib (onrevived()) signature doesn't work for windows (can't fix for now :/)
            - later:    set debug mode to 0 for release; set cvar debug to 0 for release
            - later:    email Chet, see if maybe he likes Random at all...
            
            - test:     detect and prevent double-pass?
            
            - bugfix:   teamswap gets swapped back.. do a check on every other round?
                        use sm_swapto if it's there!
            - bugfix:   defib penalty still not reset correctly after a sudden death round
            
            - tweak:    make defib event easier for survivors: give more pills at start


    minor cleanup / details
    -----------------------
            - nitpick:  MAXIMUM ammo does not change with the ammo cvars, just initial.
            - nitpick:  generator on turned over bin @ c1m2_streets gets stuck in ground
            - remember: forward Action:L4D_OnSpawnSpecial(&zombieClass, const Float:vector[3], const Float:qangle[3]);
                        = when a BOT (only) spawns, you could do some stuff with that?
            - nitpick:  boomer vomit doesn't really appear convincingly from the survivor's mouth
            - nitpick:  if I ever use g_bNoHealthItems beyond EVT_MEDIC, it will cause probs with PickRandomItem() as it is now.
            - superlow: random team going first per round in versus. how? possible? worth the effort? no.
            - superlow: firext stuff particle effect? see how it's done. only if it's easy
            - nitpick:  can't see the special role's hat when he's ledged (himself)
            - nitpick:  prevent two ammo piles spawning too close to eachother?
            - nitpick:  dark carnival 1 gas cans are not randomized.. (they're a point template, I guess)
            - nitpick:  gunswap event: survivors don't start with same weapons
            - code:     Clean up the l4d_drop copied code some more.
            - code:     "The SetEntProp functions have a parameter for the array index, use it instead of doing manual lookups and computing offsets."
    
    notes:
    ------
            - Replacing models with SetEntityModel with survivors doesn't work well - animations are too important.
            - I tried the modelscale netprop, which worked sometimes. most of the time it glitched a LOT of things. It made some players practically immune to damage and so on. horrid.
    
    video:
    ------
        ...
        
    ideas:
    ------
            - cvar  - sv_bounce
    
            - gift  - gift idea: X second slowdown (like EVT_ENCUMBERED)
            - gift  - gift idea: ghost-effect for survivors for X seconds (no outlines for SI) (even if running)
            - gift  - gift idea: see outlines on infected for X seconds ('telepathy')
            - gift  - steal weapon / ammo (on condition of not breaking event)
            
            - MAYBE - mini-scavenge for specific rounds (decide per map) / do the research (how well possible? how much work? has anyone done it already?)
            - MAYBE - when cars are done (a minimal amount of) damage, they have a chance to explode
            - MAYBE - add 'rerandom' function, working on live round [ for testing / bad starts ]

            
            
Some stuff to keep in mind:
===========================

    useful vocalize (scenes)
            WorldC1M2B37    // alarm started ('lets get out of here')   C, E, 
            
            cough
            AskReady
            GoingToDie
            PainRelieftFirstAid
            Incoming
            help
            transitionclose
            
            backup
            lookout
            waithere
            
            specific for starting to open gift
            -----------
            waithere
            AskReady
            
            coach:
                TakeGrenadeLauncher01
            
            

        prop_physics    spawnflags
        --------------------------
            1 :         "Start Asleep" : 0
            2 :         "Don't take physics damage" : 0
            4 :         "Debris - Don't collide with the player or other debris" : 0
            8 :         "Motion Disabled" : 0
            128 :       "Not affected by rotor wash" : 0
            256 :       "Generate output on +USE " : 1
            512 :       "Prevent pickup" : 0
            1024:       "Prevent motion enable on player bump" : 0
            4096:       "Debris with trigger interaction" : 0
            8192:       "Force server-side (Multiplayer only)" : 0
            32768:      "Enable +use glow effect" : 0
            
        cvars to consider:
        ------------------
            z_common_limit
            z_background_limit
            z_cull_near
            
            z_hear_gunfire_range 1000
            z_hear_runner_far_range 900
            z_vision_range 1000
            z_vision_range_alert 2000
            z_vision_range_obscured 750
            z_vision_range_obscured_alert 1250
            z_acquire_near_range 500
            z_close_target_notice_distance 100
            z_notice_near_range 300
            
            
        What's this:
        ------------
            -Member: m_nHitboxSet (offset 1104) (type integer) (bits 2)
            -Member: m_flModelScale (offset 1108) (type float) (bits 0)
            -Member: m_iGlowType (offset 4) (type integer) (bits 32)
            -Member: m_nGlowRange (offset 8) (type integer) (bits 32)
            -Member: m_glowColorOverride (offset 12) (type integer) (bits 32)
            -Member: m_bFlashing (offset 16) (type integer) (bits 1)
            -Member: m_nRenderFX (offset 276) (type integer) (bits 8)
            -Member: m_nRenderMode (offset 277) (type integer) (bits 8)
            -Member: m_fEffects (offset 204) (type integer) (bits 10)
            -Member: m_clrRender (offset 280) (type integer) (bits 32)
            
        wait.. are these start/end saferoom checks? that'd be funny
            -Member: m_isInMissionStartArea (offset 11484) (type integer) (bits 1)
            -Member: m_bInBombZone (offset 10332) (type integer) (bits 1)
            -Member: m_bInBuyZone (offset 10333) (type integer) (bits 1)
            
        infected netprops:
            -Member: m_iGlowType (offset 4) (type integer) (bits 32)
            -Member: m_nGlowRange (offset 8) (type integer) (bits 32)
            -Member: m_glowColorOverride (offset 12) (type integer) (bits 32)
            -Member: m_bFlashing (offset 16) (type integer) (bits 1)
            -Member: m_nRenderFX (offset 276) (type integer) (bits 8)
            -Member: m_nRenderMode (offset 277) (type integer) (bits 8)
            -Member: m_fEffects (offset 204) (type integer) (bits 10)
            -Member: m_clrRender (offset 280) (type integer) (bits 32)
        may be used to change/force outlines...
        
        play with this..
            // experiment - test
            SetEntityGravity(entity, 400.0);
            
            m_bSurvivorGlowEnabled
            
            
Harder  coop:

    sm_cvar z_hear_gunfire_range 400
    sm_cvar z_hear_runner_far_range 1000
    sm_cvar z_hear_runner_near_range 750
    sm_cvar z_force_attack_from_sound_range 850
    sm_cvar z_vision_range 850
    sm_cvar z_alert_range 1400
    sm_cvar z_vision_range_alert 1700
    sm_cvar z_acquire_far_range 5000
    sm_cvar z_acquire_far_time 2
    sm_cvar z_acquire_near_range 500
    sm_cvar z_acquire_near_time 0.1
    sm_cvar z_vision_range_obscured 700
    sm_cvar z_vision_range_obscured_alert 900
    sm_cvar z_close_target_notice_distance 90
    
    
L4D2_DoAnimationEvent() event list
----------------------------------

4   cock shotgun
5   shell in shotgun
6   cock shotgun

8   drop impact

11  tank death 1

21  surv idle?

34  shove
35  shove 2
36  shove high
37  kick downward

38  m16 reload

42  medkit on self
43  medkit on other
44  incap pickup help
45  medkit on other 2

50  upgrade pack deploy
52  upgrade pack deploy 2

53  can pour
55  cola in slot (maybe useful downward shove)

57  shove/hit receive
58  shove/hit receive 2

64  quick button press (shoulder height)
65  weapon switch

70  some kind of quick thing at hip.. hard to tell
73  "

76  getup (charger?), quick
77  getup (charger?), slow
78  charger getup
80  charger getup - against wall
81  surv flying (tank punch? charger hit?)
86  getup (charger against wall like?)
96  "


 